<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œì£¼ë„ ì—¬í–‰ ê³„íš íƒ€ì„ë¼ì¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8a2f8b538f98c6b84b3f815243407952&onload=initMap"></script>
    <!-- Chosen Palette: Warm Neutrals and Soft Sage -->
    <!-- Application Structure Plan: ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ìê°€ ì œì£¼ë„ ì—¬í–‰ ì¼ì •ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‹œê°í™”í•˜ê³  ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. í•µì‹¬ êµ¬ì¡°ëŠ” 'íƒ€ì„ë¼ì¸ ë¦¬ìŠ¤íŠ¸'ì™€ 'ì¸í„°ë™í‹°ë¸Œ ì§€ë„'ë¥¼ ê²°í•©í•œ 2ë‹¨ ë¶„í•  ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” 'Day 1', 'Day 2' ë²„íŠ¼ì„ í†µí•´ ë‚ ì§œë³„ ì¼ì •ì„ ì „í™˜í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ìƒí˜¸ì‘ìš©ì€ ì§€ë„ì™€ íƒ€ì„ë¼ì¸ì— ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤. íƒ€ì„ë¼ì¸ì˜ íŠ¹ì • í•­ëª©ì„ í´ë¦­í•˜ë©´ ì§€ë„ì˜ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ˆì ì´ ì´ë™í•˜ê³ , ì§€ë„ ìœ„ì˜ ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ íƒ€ì„ë¼ì¸ì—ì„œ í•´ë‹¹ í•­ëª©ì´ ê°•ì¡°ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì–‘ë°©í–¥ ìƒí˜¸ì‘ìš©ì€ ì‹œê°„ì  ìˆœì„œì™€ ì§€ë¦¬ì  ê²½ë¡œ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì§ê´€ì ìœ¼ë¡œ ì—°ê²°í•´ ì£¼ì–´, ì‚¬ìš©ìê°€ ì´ë™ ë™ì„ ì„ ì‰½ê²Œ íŒŒì•…í•˜ê³  ê³„íšì„ ê²€í† í•˜ëŠ” ë° ìµœì í™”ëœ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: ì‚¬ìš©ìì˜ ì—¬í–‰ ê³„íš ë°ì´í„°ë¥¼ ì‹œê°í™”í•˜ê¸° ìœ„í•´, ì§€ë¦¬ ì •ë³´ëŠ” ì¹´ì¹´ì˜¤ë§µ APIë¥¼ í™œìš©í•œ ì¸í„°ë™í‹°ë¸Œ ì§€ë„ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤. ê° ë°©ë¬¸ì§€ëŠ” ì§€ë„ ìœ„ì— ë²ˆí˜¸ê°€ ë§¤ê²¨ì§„ ë§ˆì»¤ë¡œ í‘œì‹œë˜ì–´ ìˆœì„œë¥¼ ëª…í™•íˆ í•©ë‹ˆë‹¤. ì‹œê°„ ìˆœì„œì— ë”°ë¥¸ ì¼ì •ì€ ìˆ˜ì§ íƒ€ì„ë¼ì¸ í˜•íƒœë¡œ êµ¬ì„±í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. ë‚ ì§œë³„ ì´ë™ ê²½ë¡œëŠ” í´ë¦¬ë¼ì¸(polyline)ì„ ì‚¬ìš©í•´ ì§€ë„ ìœ„ì— ì‹œê°ì ìœ¼ë¡œ ê·¸ë ¤ì£¼ì–´ ì „ì²´ì ì¸ ë™ì„ ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ë‚ ì§œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì§€ë„ì™€ íƒ€ì„ë¼ì¸ì˜ ë‚´ìš©ì´ ë™ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ì¸í„°ë™ì…˜ì„ êµ¬í˜„í•˜ì—¬, ì •ì ì¸ í…ìŠ¤íŠ¸ ëª©ë¡ë³´ë‹¤ í›¨ì”¬ ëŠ¥ë™ì ì´ê³  ì§ê´€ì ì¸ ì •ë³´ íƒìƒ‰ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        .timeline-item .timeline-dot {
            transform: translate(-50%, -50%);
        }
        .timeline-item .timeline-content {
            transition: all 0.3s ease;
        }
        .timeline-item.active .timeline-content {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-stone-50 font-sans text-stone-800">

    <div id="app" class="flex flex-col lg:flex-row w-full min-h-screen">
        
        <aside class="w-full lg:w-1/3 xl:w-1/4 p-6 bg-white shadow-lg overflow-y-auto">
            <header class="mb-6 pb-4 border-b border-stone-200">
                <h1 class="text-3xl font-bold text-stone-900">ì œì£¼ ì—¬í–‰ íƒ€ì„ë¼ì¸</h1>
                <p class="text-stone-500 mt-1">10ì›” 7ì¼ ~ 10ì›” 8ì¼</p>
            </header>

            <nav id="day-selector" class="flex gap-2 mb-6">
                <button data-day="1" class="day-btn flex-1 bg-teal-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-teal-700 transition-all duration-300">Day 1</button>
                <button data-day="2" class="day-btn flex-1 bg-white text-stone-700 font-bold py-3 px-4 rounded-lg shadow-md hover:bg-stone-100 transition-all duration-300">Day 2</button>
            </nav>

            <div id="timeline-container" class="relative">
            </div>
        </aside>

        <main class="w-full lg:w-2/3 xl:w-3/4 h-[50vh] lg:h-screen">
            <div id="map" class="w-full h-full"></div>
        </main>
    </div>

    <script>
        const travelData = {
            1: [
                { time: '10:00', place: 'ì œì£¼êµ­ì œê³µí•­', activity: 'ë„ì°©', lat: 33.510413, lng: 126.491353, icon: 'âœˆï¸' },
                { time: '11:00', place: 'ëª…ë‘ìŠ¤ë‚µ', activity: 'í•œì¹˜ íŠ€ê¹€, ë–¡ë³¶ì´', lat: 33.31301, lng: 126.29949, icon: 'ğŸœ' },
                { time: '12:30', place: 'í’€ë² ê°œ', activity: 'ì»¤í”¼', lat: 33.31688, lng: 126.30252, icon: 'â˜•' },
                { time: '14:00', place: 'ì œì£¼ë¶€ì˜í˜¸í…”&ë¦¬ì¡°íŠ¸', activity: 'ì²´í¬ì¸', lat: 33.2458, lng: 126.4087, icon: 'ğŸ¨' },
                { time: '15:00', place: 'ë²ˆë„¤ì‹ë‹¹', activity: 'ê°ˆì¹˜ì¡°ë¦¼ ì‹ì‚¬', lat: 33.2494, lng: 126.4252, icon: 'ğŸ²' },
                { time: '16:30', place: 'ì œì£¼ë¶€ì˜í˜¸í…”&ë¦¬ì¡°íŠ¸', activity: 'íœ´ì‹', lat: 33.2458, lng: 126.4087, icon: 'ğŸ›Œ' },
                { time: '18:30', place: 'ì¹ ëˆê°€ ì¤‘ë¬¸ì ', activity: 'í‘ë¼ì§€ êµ¬ì´ ì‹ì‚¬', lat: 33.2505, lng: 126.4170, icon: 'ğŸ–' },
                { time: '20:00', place: 'ì œì£¼ë¶€ì˜í˜¸í…”&ë¦¬ì¡°íŠ¸', activity: 'íœ´ì‹', lat: 33.2458, lng: 126.4087, icon: 'ğŸŒ™' }
            ],
            2: [
                { time: '09:00', place: 'ì œì£¼ì„ ì±„í–¥', activity: 'ì „ë³µì¹¼êµ­ìˆ˜ ì‹ì‚¬', lat: 33.2483, lng: 126.4251, icon: 'ğŸœ' },
                { time: '10:30', place: 'ìœ„ì´', activity: 'ì»¤í”¼', lat: 33.2536, lng: 126.4385, icon: 'â˜•' },
                { time: '12:00', place: 'ì˜¤ëŠ”ì • ê¹€ë°¥', activity: 'ê¹€ë°¥ í¬ì¥', lat: 33.2497, lng: 126.5623, icon: 'ğŸ™' },
                { time: '14:00', place: 'ì•„ì¿ ì•„ë·°í‹°í¬', activity: 'ì²´í¬ì¸', lat: 33.5435, lng: 126.6668, icon: 'ğŸ¨' },
                { time: '17:00', place: 'ìˆ™ì„±ë„ í•¨ë•ì ', activity: 'í‘ë¼ì§€ êµ¬ì´ ì‹ì‚¬', lat: 33.5430, lng: 126.6675, icon: 'ğŸ–' },
                { time: '19:00', place: 'ë¯¸ì˜ì´ë„¤ ì¡°ì²œì ', activity: 'ê³ ë“±ì–´ íšŒ í¬ì¥', lat: 33.5450, lng: 126.6974, icon: 'ğŸ£' },
                { time: '20:00', place: 'ì•„ì¿ ì•„ë·°í‹°í¬', activity: 'íœ´ì‹', lat: 33.5435, lng: 126.6668, icon: 'ğŸŒ™' }
            ]
        };

        let map;
        let markers = [];
        let polyline;
        let currentDay = 1;

        function initMap() {
            const mapContainer = document.getElementById('map');
            const mapOption = { 
                center: new kakao.maps.LatLng(33.361665, 126.520412),
                level: 10
            };
            map = new kakao.maps.Map(mapContainer, mapOption);
            
            const daySelector = document.getElementById('day-selector');
            daySelector.addEventListener('click', (e) => {
                const button = e.target.closest('.day-btn');
                if (button) {
                    const day = parseInt(button.dataset.day);
                    if (day !== currentDay) {
                        currentDay = day;
                        updateView();
                        updateButtonStyles();
                    }
                }
            });

            updateView();
        }

        function updateButtonStyles() {
            const buttons = document.querySelectorAll('.day-btn');
            buttons.forEach(btn => {
                if (parseInt(btn.dataset.day) === currentDay) {
                    btn.classList.remove('bg-white', 'text-stone-700');
                    btn.classList.add('bg-teal-600', 'text-white');
                } else {
                    btn.classList.remove('bg-teal-600', 'text-white');
                    btn.classList.add('bg-white', 'text-stone-700');
                }
            });
        }
        
        function clearMap() {
            markers.forEach(markerInfo => markerInfo.marker.setMap(null));
            markers = [];
            if (polyline) {
                polyline.setMap(null);
            }
        }

        function createTimelineHTML(dayData) {
            return `
                <div class="absolute left-4 top-0 bottom-0 w-0.5 bg-stone-200"></div>
                ${dayData.map((item, index) => `
                    <div class="timeline-item relative mb-4" data-index="${index}">
                        <div class="timeline-dot absolute left-4 top-4 w-4 h-4 bg-white border-4 border-teal-500 rounded-full"></div>
                        <div class="timeline-content ml-12 p-4 bg-white rounded-lg shadow-md border border-stone-100 cursor-pointer">
                            <span class="text-sm font-bold text-teal-600">${item.time}</span>
                            <h3 class="font-semibold text-lg text-stone-800">${index+1}. ${item.place}</h3>
                            <p class="text-stone-600">${item.icon} ${item.activity}</p>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function updateView() {
            clearMap();
            const dayData = travelData[currentDay];
            const timelineContainer = document.getElementById('timeline-container');

            timelineContainer.innerHTML = createTimelineHTML(dayData);
            
            const bounds = new kakao.maps.LatLngBounds();
            const linePath = [];

            dayData.forEach((item, index) => {
                const position = new kakao.maps.LatLng(item.lat, item.lng);
                linePath.push(position);
                bounds.extend(position);
                
                const markerContent = `<div style="background-color: #14B8A6; color: white; padding: 4px 8px; border-radius: 9999px; font-weight: bold; font-size: 14px; text-align: center;">${index + 1}</div>`;
                
                const customOverlay = new kakao.maps.CustomOverlay({
                    position: position,
                    content: markerContent,
                    yAnchor: 1.2
                });

                markers.push({ marker: customOverlay, position: position, index: index });
                customOverlay.setMap(map);
                 
                const markerElement = customOverlay.a;
                if (markerElement) {
                    markerElement.addEventListener('click', () => {
                        panTo(position);
                        highlightTimelineItem(index);
                    });
                }
            });
            
            map.setBounds(bounds);
            
            polyline = new kakao.maps.Polyline({
                path: linePath,
                strokeWeight: 4,
                strokeColor: '#0D9488',
                strokeOpacity: 0.8,
                strokeStyle: 'solid'
            });
            polyline.setMap(map);

            addTimelineEventListeners();
        }

        function addTimelineEventListeners() {
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach(item => {
                item.addEventListener('click', () => {
                    const index = parseInt(item.dataset.index);
                    const markerInfo = markers.find(m => m.index === index);
                    if (markerInfo) {
                        panTo(markerInfo.position);
                        highlightTimelineItem(index);
                    }
                });
            });
        }
        
        function panTo(position) {
            map.panTo(position);
        }

        function highlightTimelineItem(index) {
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                    item.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    item.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>

